{% load static %}

<!-- myapp/templates/prediksi.html -->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Responsive Bootstrap4 Shop Template, Created by Imran Hossain from https://imransdesign.com/">

	<!-- title -->
	<title>Prediksi</title>

	<!-- favicon -->
	<link rel="shortcut icon" type="image/png" href="{% static 'img/favicon.png' %}">
	<!-- google font -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
	<!-- fontawesome -->
	<link rel="stylesheet" href="{% static 'css/all.min.css' %}">
	<!-- bootstrap -->
	<link rel="stylesheet" href="{% static 'bootstrap/css/bootstrap.min.css' %}">
	<!-- owl carousel -->
	<link rel="stylesheet" href="{% static 'css/owl.carousel.css' %}">
	<!-- magnific popup -->
	<link rel="stylesheet" href="{% static 'css/magnific-popup.css' %}">
	<!-- animate css -->
	<link rel="stylesheet" href="{% static 'css/animate.css' %}">
	<!-- mean menu css -->
	<link rel="stylesheet" href="{% static 'css/meanmenu.min.css' %}">
	<!-- main style -->
	<link rel="stylesheet" href="{% static 'css/main.css' %}">
	<!-- responsive -->
	<link rel="stylesheet" href="{% static 'css/responsive.css' %}">

    <style>
        .model-section {
            padding: 40px 20px;
            background-color: #f9f9f9;
            margin-top: 20px;
        }
        
        .model-section h1, .model-section h3 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        
        .model-section h1 {
            font-size: 32px;
            font-weight: bold;
        }
        
        .model-section h3 {
            font-size: 24px;
            font-weight: 600;
        }
        
        .model-section .dataset-preview {
            margin-bottom: 30px;
        }
        
        .model-section .classification-report {
            margin-bottom: 30px;
        }
        
        .model-section .table-responsive {
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .model-section table {
            width: 100%;
            border-collapse: collapse;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        .model-section table th, .model-section table td {
            padding: 12px 15px;
            border: 1px solid #ddd;
            text-align: center;
            white-space: nowrap;
        }
        
        .model-section table th {
            background-color: #f4f4f4;
            font-weight: bold;
        }
        
        .model-section table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .model-section .form-section {
            text-align: center;
            margin: 30px 0;
        }
        
        .model-section .form-section input[type="submit"] {
            background-color: #D75E72;
            color: #fff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        .model-section .form-section input[type="submit"]:hover {
            background-color: #D75E72;
        }
        
        .model-section .image-link {
            text-align: center;
            margin-top: 20px;
        }
        
        .model-section .image-link a {
            border-radius: 10px;
            padding: 10px 20px;
            background-color: #fff;
            border: 1px solid #D75E72;
            color: #D75E72;
            text-decoration: none;
            font-weight: 500;
        }

        .model-section .image-link a:hover {
            background-color: #D75E72;
            color: #fff;
        }


        
        .model-section .back-home {
            text-align: center;
            margin-top: 30px;
        }
        
        .model-section .back-home a {
            padding: 10px 20px;
            border-radius: 10px;
            color: #fff;
            background-color: #051922;
            border: 1px solid #D75E72;
            text-decoration: none;
            font-weight: 500;
        }
        
        .model-section .back-home a:hover {
            background-color: #D75E72;
            color: #fff;
        }

        @media (max-width: 768px) {
			.model-section {
				overflow: hidden;
			}
        }
    </style>
</head>
<body>
	
	<!--PreLoader-->
    <div class="loader">
        <div class="loader-inner">
            <div class="circle"></div>
        </div>
    </div>
    <!--PreLoader Ends-->
	
	<!-- header -->
	<div class="top-header-area" id="sticker">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 col-sm-12 text-center">
					<div class="main-menu-wrap">
						<!-- logo -->
						<div class="site-logo">
							<a href="{% url 'home:index' %}">
								<img src="{% static 'img/logo.png' %}" alt="">
							</a>
						</div>
						<!-- logo -->

						<!-- menu start -->
						<nav class="main-menu">
							<ul>
								<li><a href="{% url 'home:index' %}">Home</a></li>
								<li><a href="{% url 'home:about' %}">About</a></li>
								<li><a href="{% url 'home:panduan' %}">Panduan</a></li>
								<li class="current-list-item"><a href="{% url 'home:prediksi' %}">Prediksi</a></li>
								<li><a href="{% url 'home:contact' %}">Contact</a></li>
							</ul>
						</nav>
						<div class="mobile-menu"></div>
						<!-- menu end -->
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end header -->
	
	<!-- breadcrumb-section -->
	<div class="breadcrumb-section breadcrumb-bg">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 offset-lg-2 text-center">
					<div class="breadcrumb-text">
						<p>Coba Sekarang</p>
						<h1>Prediksi</h1>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end breadcrumb section -->

    <!-- Model Start -->
    <div class="model-section">
        <div class="dataset-preview">
            <h1>Preview Dataset</h1>
            {{ show | safe }}
        </div>
        <h3>Decision Tree Classifier</h3>
        {% if performances is not None %}
            <div class="classification-report">
                <h1>Classification Report</h1>
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th>Label</th>
                            <th>Precision</th>
                            <th>Recall</th>
                            <th>Support</th>
                        </tr>
                        {% for label, metrics in performances.items %}
                            <tr>
                                <td>{{ label }}</td>
                                <td>{{ metrics.precision }}</td>
                                <td>{{ metrics.recall }}</td>
                                <td>{{ metrics.support }}</td>
                            </tr>
                        {% endfor %}
                        <tr>
                            <th>Accuracy</th>
                            <td colspan="3">{{ performances.accuracy }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        {% endif %}
        <div class="form-section">
            <form action="{% url 'classifier:predict' dataset_id=dataset_id %}" method="post">
                {% csrf_token %}
                <input type="hidden" name="label" value="{{ label }}">
                <input type="submit" value="Prediksi Sekarang">
            </form>
        </div>
        <div class="image-link">
            <h3>Model Decision Tree</h3>
            <a target="_blank" href="{{ image.url }}">Lihat Gambar Model</a>
        </div>
    </div>    
    <!-- Model End -->


	<!-- footer -->
	<div class="footer-area">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 col-md-6">
					<div class="footer-box about-widget">
						<h2 class="widget-title">About us</h2>
						<p>Dalam upaya mitigasi penyakit jantung, perkembangan teknologi telah memberikan alat yang dapat membantu dalam diagnosis dini penyakit jantung. Dengan demikian, web prediksi ini dapat menjadi alat yang sangat berguna untuk membantu dalam deteksi dini, pencegahan, dan pengelolaan penyakit jantung.</p>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="footer-box get-in-touch">
						<h2 class="widget-title">Get in Touch</h2>
						<ul>
							<li>Universitas Negeri Malang, Malang</li>
							<li><a href="https://um.ac.id/">www.um.ac.id</a></li>
							<li>(0341) 551312</li>
						</ul>
					</div>
				</div>
				<div class="col-lg-3 col-md-6">
					<div class="footer-box pages">
						<h2 class="widget-title">Pages</h2>
						<ul>
							<li><a href="{% url 'home:index' %}">Home</a></li>
							<li><a href="{% url 'home:about' %}">About</a></li>
							<li><a href="{% url 'home:panduan' %}">Panduan</a></li>
							<li><a href="{% url 'home:prediksi' %}">Prediksi</a></li>
							<li><a href="{% url 'home:contact' %}">Contact</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end footer -->
	
	<!-- copyright -->
	<div class="copyright">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 col-md-12">
					<p>Copyrights &copy; 2024 - <a>Kelompok 3 Data Science | S1 TI A 2022</a></p>
				</div>
			</div>
		</div>
	</div>
	<!-- end copyright -->
	
	<script>
        document.getElementById('upload-dataset').addEventListener('change', function() {
            var fileName = this.files[0].name;
            document.getElementById('file-name').textContent = 'Dataset yang telah dipilih: ' + fileName;
        });
    </script>
	<!-- jquery -->
	<script src="{% static 'js/jquery-1.11.3.min.js' %}"></script>
	<!-- bootstrap -->
	<script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>
	<!-- count down -->
	<script src="{% static 'js/jquery.countdown.js' %}"></script>
	<!-- isotope -->
	<script src="{% static 'js/jquery.isotope-3.0.6.min.js' %}"></script>
	<!-- waypoints -->
	<script src="{% static 'js/waypoints.js' %}"></script>
	<!-- owl carousel -->
	<script src="{% static 'js/owl.carousel.min.js' %}"></script>
	<!-- magnific popup -->
	<script src="{% static 'js/jquery.magnific-popup.min.js' %}"></script>
	<!-- mean menu -->
	<script src="{% static 'js/jquery.meanmenu.min.js' %}"></script>
	<!-- sticker js -->
	<script src="{% static 'js/sticker.js' %}"></script>
	<!-- main js -->
	<script src="{% static 'js/main.js' %}"></script>

</body>
</html>
